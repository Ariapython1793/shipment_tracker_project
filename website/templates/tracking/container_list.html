{% extends 'tracking/base.html' %}
{% block content %}
<h1 class="title">لیست کانتینرها</h1>

<form method="get" class="box">
  <div class="columns is-multiline">
    <div class="column is-one-quarter">{{ form.query.label_tag }} {{ form.query }}</div>
    <div class="column is-one-quarter">{{ form.status.label_tag }} {{ form.status }}</div>
    <div class="column is-one-quarter">{{ form.origin.label_tag }} {{ form.origin }}</div>
    <div class="column is-one-quarter">{{ form.destination.label_tag }} {{ form.destination }}</div>
  </div>
  <button class="button is-link" type="submit">فیلتر</button>
</form>

<table class="table is-fullwidth is-striped">
  <thead>
    <tr>
      <th>شماره</th>
      <th>مبدا</th>
      <th>مقصد</th>
      <th>وضعیت</th>
      <th>تاریخ حرکت</th>
      <th>ETA</th>
      <th>تاخیر؟</th>
    </tr>
  </thead>
<tbody>
  {% for c in containers %}
  <tr>
    <td>{{ c.container_number }}</td>
    <td>{{ c.origin }}</td>
    <td>{{ c.destination }}</td>
    <td>{{ c.get_status_display }}</td>
    <td>{{ c.depart_time|date:"Y-m-d H:i" }}</td>
    <td>{{ c.eta|date:"Y-m-d H:i" }}</td>
    <td>{% if c.is_delayed %}بله{% else %}خیر{% endif %}</td>
  </tr>
  {% empty %}
  <tr><td colspan="7">هیچ کانتینری یافت نشد.</td></tr>
  {% endfor %}
</tbody>

</table>
{% endblock %}
